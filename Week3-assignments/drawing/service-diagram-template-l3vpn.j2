#jinja2: lstrip_blocks: True
// This is diagram automatically generated by Ansible and Jinja2
//
//
//
//

{# Loop for l3vpns #}
{% for l3vpn in l3vpns %}
graph {
{% set vrfname = l3vpn.keys()[0] %}
		vrf{{ vrfname }}
		{# Loop for sites in l3vpn #}
		{% for site in l3vpn.values()[0].list_of_sites %}
		{# Loop for nodes in sites #}
		{% for node in site.nodes %}
		{{ node.name }} -- vrf{{ vrfname }};
	    {{ node.interfaces }}
		{# Loop for interface in nodes #}
		{#{% for ifkeys,ifvalues in node.interfaces %}
		{{ ifvalues.interface }}
		{#{% set subnet = interface.ip ~ '/' ~ interface.mask %}
		{{ node.name }} -- "{{ subnet | ipaddr() }}"[label="{{ interface.interface }}"];#}
		{#{% endfor %} #}
		{% endfor %}
		{% endfor %}
}
{% endfor %}