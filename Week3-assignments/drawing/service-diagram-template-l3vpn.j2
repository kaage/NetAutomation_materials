#jinja2: lstrip_blocks: True
// This is diagram automatically generated by Ansible and Jinja2
//
//
//
//


{% for l3vpn in l3vpns %}
graph {
{% set vrfname = l3vpn.keys()[0] %}
		vrf{{ vrfname }}
		{% for site in l3vpn.values()[0].list_of_sites %}
		{% for node in site.nodes %}
		{{ node.name }} -- vrf{{ vrfname }};
		{% if node.name == inventory_hostname %}
		{% for interface in node.interfaces %}
		{% set subnet = interface.ip ~ '/' ~ interface.mask %}
		{{ node.name }} -- "{{ subnet | ipaddr() }}"[label="{{ interface.interface }}"];
		{% endfor %}
		{% endif %}
		{% endfor %}
		{% endfor %}
}
{% endfor %}